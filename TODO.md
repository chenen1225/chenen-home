# 待办任务清单 (TODO)

本文档记录项目未来的开发计划和待办任务。

## 🚀 高优先级任务

### 1. 知识库功能增强
- [ ] **搜索功能**
  - [ ] 实现笔记标题搜索
  - [ ] 实现笔记内容全文搜索
  - [ ] 支持搜索高亮显示
  - [ ] 添加搜索历史记录
  - 优先级：⭐⭐⭐⭐⭐
  - 预估工作量：4-6 小时

- [ ] **标签系统**
  - [ ] 为笔记添加标签功能
  - [ ] 标签管理（创建、编辑、删除）
  - [ ] 按标签筛选笔记
  - [ ] 标签云展示
  - 优先级：⭐⭐⭐⭐
  - 预估工作量：6-8 小时

- [ ] **笔记导出功能**
  - [ ] 导出单个笔记为 Markdown 文件
  - [ ] 导出单个笔记为 PDF
  - [ ] 批量导出笔记
  - [ ] 导出整个知识库（ZIP 打包）
  - 优先级：⭐⭐⭐⭐
  - 预估工作量：8-10 小时

### 2. 文件夹功能增强
- [ ] **文件夹管理**
  - [ ] 文件夹重命名
  - [ ] 文件夹删除（需确认，并处理其中的笔记）
  - [ ] 文件夹排序（拖拽调整顺序）
  - [ ] 文件夹图标自定义
  - 优先级：⭐⭐⭐⭐
  - 预估工作量：4-6 小时

- [ ] **多级文件夹**
  - [ ] 支持文件夹嵌套（子文件夹）
  - [ ] 文件夹树展开/折叠所有
  - [ ] 面包屑导航
  - 优先级：⭐⭐⭐
  - 预估工作量：10-12 小时

## ⚡ 中优先级任务

### 3. UI/UX 优化
- [ ] **夜间模式**
  - [ ] 设计夜间配色方案
  - [ ] 实现主题切换功能
  - [ ] 保存用户主题偏好
  - [ ] 添加自动切换（跟随系统）
  - 优先级：⭐⭐⭐⭐
  - 预估工作量：6-8 小时

- [ ] **Markdown 编辑器增强**
  - [ ] 实时预览（分屏显示）
  - [ ] 支持更多 Markdown 语法（表格、任务列表、公式等）
  - [ ] 工具栏（加粗、斜体、插入链接等快捷按钮）
  - [ ] 代码高亮显示
  - 优先级：⭐⭐⭐⭐
  - 预估工作量：12-16 小时

- [ ] **键盘快捷键**
  - [ ] Ctrl+S 保存
  - [ ] Ctrl+N 新建笔记
  - [ ] Ctrl+F 搜索
  - [ ] Ctrl+E 编辑
  - [ ] Esc 取消编辑
  - 优先级：⭐⭐⭐
  - 预估工作量：2-4 小时

- [ ] **笔记排序功能**
  - [ ] 按创建时间排序
  - [ ] 按修改时间排序
  - [ ] 按标题字母排序
  - [ ] 自定义排序（拖拽调整）
  - 优先级：⭐⭐⭐
  - 预估工作量：4-6 小时

### 4. 移动端优化
- [ ] **拖拽体验优化**
  - [ ] 长按触发拖拽（移动端）
  - [ ] 拖拽时的视觉反馈优化
  - [ ] 支持触摸滚动
  - 优先级：⭐⭐⭐
  - 预估工作量：4-6 小时

- [ ] **移动端手势**
  - [ ] 左滑删除笔记
  - [ ] 右滑编辑笔记
  - [ ] 下拉刷新
  - 优先级：⭐⭐
  - 预估工作量：6-8 小时

### 5. 数据管理
- [ ] **数据导入导出**
  - [ ] 导出所有数据为 JSON
  - [ ] 导入 JSON 数据
  - [ ] 数据备份功能
  - [ ] 数据恢复功能
  - 优先级：⭐⭐⭐
  - 预估工作量：4-6 小时

- [ ] **笔记版本历史**
  - [ ] 记录笔记修改历史
  - [ ] 查看历史版本
  - [ ] 恢复到历史版本
  - 优先级：⭐⭐
  - 预估工作量：10-12 小时

## 🎯 低优先级任务

### 6. 高级功能
- [ ] **笔记分享**
  - [ ] 生成分享链接
  - [ ] 二维码分享
  - [ ] 设置分享有效期
  - [ ] 访问统计
  - 优先级：⭐⭐
  - 预估工作量：8-10 小时
  - 依赖：需要后端支持

- [ ] **协作功能**
  - [ ] 多用户系统
  - [ ] 权限管理（查看、编辑、管理）
  - [ ] 评论功能
  - [ ] 实时协作编辑
  - 优先级：⭐
  - 预估工作量：20-30 小时
  - 依赖：需要完整后端系统

- [ ] **附件支持**
  - [ ] 上传图片
  - [ ] 上传文件
  - [ ] 图片预览
  - [ ] 文件下载
  - 优先级：⭐⭐
  - 预估工作量：8-10 小时
  - 依赖：需要后端存储

### 7. 后端集成（可选）
- [ ] **数据库集成**
  - [ ] 设计数据库表结构
  - [ ] 实现 RESTful API
  - [ ] 替换 localStorage 为 API 调用
  - [ ] 数据迁移工具
  - 优先级：⭐
  - 预估工作量：30-40 小时
  - 技术栈：Node.js + Express + MongoDB / MySQL

- [ ] **用户认证系统**
  - [ ] 用户注册
  - [ ] 用户登录（JWT）
  - [ ] 密码加密
  - [ ] 忘记密码
  - 优先级：⭐
  - 预估工作量：15-20 小时
  - 依赖：后端系统

### 8. 性能优化
- [ ] **虚拟滚动**
  - [ ] 实现虚拟滚动优化大量笔记渲染
  - [ ] 懒加载笔记内容
  - 优先级：⭐⭐
  - 预估工作量：8-10 小时
  - 触发条件：笔记数量 > 100

- [ ] **搜索性能优化**
  - [ ] 实现索引机制
  - [ ] 搜索结果缓存
  - [ ] 防抖处理
  - 优先级：⭐⭐
  - 预估工作量：4-6 小时

## 📝 代码质量改进

### 9. 代码重构
- [ ] **模块化**
  - [ ] 将 knowledge.js 拆分为多个模块
  - [ ] 使用 ES6 模块化
  - [ ] 引入构建工具（Webpack/Vite）
  - 优先级：⭐⭐
  - 预估工作量：12-16 小时

- [ ] **TypeScript 改造**
  - [ ] 添加类型定义
  - [ ] 重构为 TypeScript
  - [ ] 类型检查
  - 优先级：⭐
  - 预估工作量：20-30 小时

### 10. 测试
- [ ] **单元测试**
  - [ ] 编写核心函数的单元测试
  - [ ] 使用 Jest 或 Vitest
  - [ ] 达到 80% 以上覆盖率
  - 优先级：⭐⭐
  - 预估工作量：15-20 小时

- [ ] **端到端测试**
  - [ ] 使用 Playwright 或 Cypress
  - [ ] 编写关键流程的 E2E 测试
  - 优先级：⭐
  - 预估工作量：10-15 小时

## 🐛 已知 Bug 修复

### 待修复的问题
- [ ] Markdown 渲染不支持表格、任务列表等高级语法
- [ ] 移动端拖拽体验需要优化（建议改为长按触发）
- [ ] Toast 提示在快速操作时可能重叠显示
- [ ] 文件夹名称过长时没有截断处理

## 📊 开发进度

### 当前版本：v2.1.0
- ✅ AI 知识库基础功能
- ✅ 笔记管理（创建、编辑、删除）
- ✅ 文件夹管理（创建、展开/折叠）
- ✅ 拖拽功能
- ✅ 用户认证
- ✅ 数据持久化
- ✅ Markdown 渲染（基础）

### 下一个版本：v2.2.0 计划
- [ ] 搜索功能
- [ ] 标签系统
- [ ] 夜间模式
- [ ] 笔记导出
- [ ] 文件夹重命名和删除

### 未来版本规划
- **v2.3.0**: Markdown 编辑器增强、键盘快捷键
- **v2.4.0**: 移动端优化、手势支持
- **v2.5.0**: 数据导入导出、版本历史
- **v3.0.0**: 后端集成、多用户系统

## 🤝 贡献指南

如果你想参与开发，可以从以下任务开始：

### 适合新手
- [ ] 优化 Toast 提示样式
- [ ] 添加键盘快捷键
- [ ] 文件夹名称过长截断处理
- [ ] 笔记排序功能

### 适合进阶
- [ ] 搜索功能
- [ ] 标签系统
- [ ] 夜间模式
- [ ] Markdown 编辑器工具栏

### 适合高级开发者
- [ ] 虚拟滚动
- [ ] Markdown 编辑器实时预览
- [ ] 后端 API 开发
- [ ] TypeScript 改造

## 📅 更新记录

- **2025-01-25**: 创建 TODO.md，规划未来开发任务
- 后续更新将在此记录...

---

**注意事项**：
1. 所有任务都是建议性的，优先级可以根据实际需求调整
2. 工作量预估仅供参考，实际开发时间可能有所不同
3. 部分功能（如后端集成）需要额外的技术栈和时间投入
4. 欢迎提交 Issue 和 Pull Request 来完善此列表
